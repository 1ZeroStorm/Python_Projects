{% extends "layout.html" %}
{% block content %}

<h2>Manage Books</h2>

<form action="/add" method="POST" class="row g-3 mt-2 mb-4">
    <div class="col-md-4">
        <input
            class="form-control"
            type="text"
            name="title"
            placeholder="Book Title"
            required />
    </div>
    <div class="col-md-4">
        <input
            class="form-control"
            type="text"
            name="author"
            placeholder="Author"
            required />
    </div>
    <div class="col-md-2">
        <input
            class="form-control"
            type="number"
            name="year"
            placeholder="Year"
            required />
    </div>
    <div class="col-md-2">
        <button class="btn btn-primary w-100">Add</button>
    </div>
</form>

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Year</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for b in books %}
        <tr>
            <td>{{ b[0] }}</td>
            <td>{{ b[1] }}</td>
            <td>{{ b[2] }}</td>
            <td>{{ b[3] }}</td>
            <td>
                <a href="/edit/{{ b[0] }}" class="btn btn-warning btn-sm">Edit</a>
                <a href="/delete/{{ b[0] }}" class="btn btn-danger btn-sm">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}